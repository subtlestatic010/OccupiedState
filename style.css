/* === GLITCH TIMELINE UPGRADE === */
.cd-timeline__container::before {
    background: linear-gradient(transparent 40%, #0f0 50%, transparent 60%);
    box-shadow: 0 0 15px #0f0;
    animation: linepulse 4s infinite;
}
@keyframes linepulse {
    0%,100% { opacity: 0.7; }
    50% { opacity: 1; box-shadow: 0 0 30px #0f0; }
}

/* Visible pulsing dots on the line */
.cd-timeline__img {
    background: #000;
    border: 3px solid #0f0;
    box-shadow: 0 0 20px #0f0;
    width: 40px; height: 40px;
}
.dot {
    width: 16px; height: 16px;
    background: #0f0;
    border-radius: 50%;
    box-shadow: 0 0 15px #0f0;
    animation: dotpulse 2s infinite;
}
@keyframes dotpulse {
    0%,100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.4); opacity: 0.6; }
}

/* GLITCH POP REVEAL */
.cd-timeline__content--bounce-in {
    animation: glitchReveal 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    opacity: 0;
}
.cd-timeline__img--bounce-in {
    animation: dotGlitch 0.8s ease-out forwards;
}

@keyframes glitchReveal {
    0% {
        opacity: 0;
        transform: translateY(40px) scale(0.9);
        clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
    }
    20% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
    25% { transform: translateY(-10px) scale(1.02); }
    40% { transform: translateY(5px) skewX(5deg); }
    60% {
        transform: translateY(-3px) skewX(-3deg);
        text-shadow: 4px 0 0 #0ff, -4px 0 0 #f0f;
    }
    80% { text-shadow: 2px 0 0 #0ff, -2px 0 0 #f0f; }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        text-shadow: none;
    }
}

@keyframes dotGlitch {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.6); }
    100% { transform: scale(1); opacity: 1; }
}

/* Extra CRT flicker on hover */
.cd-timeline__content:hover {
    animation: crtFlicker 0.15s linear 3;
}
@keyframes crtFlicker {
    0%,100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Year numbers get a falling matrix trail */
.year {
    font-size: 2.5rem !important;
    font-weight: 900;
    color: #0f0;
    text-shadow: 0 0 15px #0f0;
    position: relative;
    display: inline-block;
}
.year::after {
    content: attr(data-year);
    position: absolute;
    left: 0;
    top: -20px;
    color: rgba(0,255,0,0.3);
    animation: matrixFall 1.2s linear forwards;
    pointer-events: none;
}
@keyframes matrixFall {
    0% { transform: translateY(-30px); opacity: 1; }
    100% { transform: translateY(80px); opacity: 0; }
}

/* Make sure odd/even still work on mobile */
@media (max-width: 767px) {
    .cd-timeline__block:nth-child(even) .cd-timeline__content {
        margin-left: 60px;
    }
}
